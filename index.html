<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HONG HAE IN</title>
    <!-- T·∫£i Tailwind CSS ƒë·ªÉ d·ªÖ d√†ng t·∫°o ki·ªÉu -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i font Dancing Script t·ª´ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ƒê·∫£m b·∫£o HTML v√† Body chi·∫øm to√†n b·ªô chi·ªÅu cao v√† chi·ªÅu r·ªông m√†n h√¨nh */
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; /* NgƒÉn cu·ªôn trang */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000; /* M√†u ƒëen */
            display: flex;
            flex-direction: column; /* ƒê·ªïi th√†nh column ƒë·ªÉ x·∫øp ch·ªØ v√† phong b√¨ theo chi·ªÅu d·ªçc */
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative;
        }

        /* Hi·ªáu ·ª©ng ch·ªØ neon ch√≠nh */
        #neon-text {
            font-family: 'Dancing Script', cursive; /* ƒê√£ ƒë·ªïi font ch·ªØ th√†nh n√©t b√∫t m√°y */
            color: #fff; /* M√†u ch·ªØ tr·∫Øng */
            font-size: 3em; /* K√≠ch th∆∞·ªõc ch·ªØ l·ªõn */
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px; /* Kho·∫£ng c√°ch v·ªõi phong b√¨ */
            text-shadow: 
                0 0 10px #FF007F, /* H·ªìng s√°ng */
                0 0 20px #FF007F,
                0 0 30px #FF007F,
                0 0 40px #FF007F,
                0 0 70px #FF007F,
                0 0 80px #FF007F,
                0 0 100px #FF007F;
            animation: neon-blink 2s infinite alternate; /* Animation nh·∫•p nh√°y ch·∫≠m */
            z-index: 15; /* ƒê·∫£m b·∫£o ch·ªØ n·∫±m tr√™n c√°c hi·ªáu ·ª©ng n·ªÅn */
            white-space: nowrap; /* NgƒÉn ch·ªØ b·ªã ng·∫Øt d√≤ng */
            transition: opacity 1s ease-out; /* Th√™m transition cho hi·ªáu ·ª©ng m·ªù d·∫ßn */
        }

        /* L·ªõp ƒë·ªÉ l√†m m·ªù ch·ªØ neon ch√≠nh */
        #neon-text.fade-out-text {
            opacity: 0; /* L√†m cho ch·ªØ bi·∫øn m·∫•t */
            animation: none; /* D·ª´ng animation nh·∫•p nh√°y ƒë·ªÉ opacity transition ho·∫°t ƒë·ªông */
        }

        @keyframes neon-blink {
            0%, 100% {
                opacity: 1;
                text-shadow: 
                    0 0 10px #FF007F, 
                    0 0 20px #FF007F, 
                    0 0 30px #FF007F, 
                    0 0 40px #FF007F, 
                    0 0 70px #FF007F, 
                    0 0 80px #FF007F, 
                    0 0 100px #FF007F;
            }
            50% {
                opacity: 0.6; /* Gi·∫£m ƒë·ªô m·ªù */
                text-shadow: 
                    0 0 5px #FF007F, 
                    0 0 10px #FF007F, 
                    0 0 15px #FF007F; /* Gi·∫£m ƒë·ªô s√°ng */
            }
        }

        /* V√πng ch·ª©a c√°c ch·∫•m s√°ng r∆°i (gi·ªù l√† b√°nh kem/n∆° h·ªìng/h·ªôp qu√†/tr√°i tim) */
        #falling-dots-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Cho ph√©p nh·∫•p chu·ªôt xuy√™n qua */
            z-index: 5; /* N·∫±m d∆∞·ªõi phong b√¨ */
            overflow: hidden; /* NgƒÉn cu·ªôn n·∫øu ch·∫•m ƒëi ra ngo√†i */
        }

        .falling-dot { /* ƒê·ªïi t√™n th√†nh falling-emoji ƒë·ªÉ r√µ r√†ng h∆°n, nh∆∞ng gi·ªØ nguy√™n class ƒë·ªÉ kh√¥ng thay ƒë·ªïi qu√° nhi·ªÅu */
            position: absolute;
            background-color: transparent; /* Kh√¥ng c√≥ m√†u n·ªÅn, ch·ªâ hi·ªÉn th·ªã emoji */
            border-radius: 50%; /* V·∫´n gi·ªØ ƒë·ªÉ t∆∞∆°ng th√≠ch n·∫øu sau n√†y ƒë·ªïi l·∫°i ch·∫•m */
            animation: fall-dots linear infinite; /* √Åp d·ª•ng animation r∆°i */
            white-space: nowrap; /* NgƒÉn emoji b·ªã ng·∫Øt d√≤ng */
            font-size: 1.5em; /* K√≠ch th∆∞·ªõc m·∫∑c ƒë·ªãnh cho emoji */
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5); /* Hi·ªáu ·ª©ng ph√°t s√°ng nh·∫π */
        }

        /* Keyframes cho animation ch·∫•m r∆°i (gi·ªù l√† b√°nh kem/n∆° h·ªìng/h·ªôp qu√†/tr√°i tim) */
        @keyframes fall-dots {
            0% {
                transform: translateY(-100vh); /* B·∫Øt ƒë·∫ßu t·ª´ ph√≠a tr√™n m√†n h√¨nh */
                opacity: 0; /* Ban ƒë·∫ßu ·∫©n */
            }
            10% {
                opacity: 1; /* Hi·ªán d·∫ßn */
            }
            90% {
                opacity: 1; /* Gi·ªØ nguy√™n ƒë·ªô m·ªù */
            }
            100% {
                transform: translateY(100vh); /* R∆°i xu·ªëng d∆∞·ªõi m√†n h√¨nh */
                opacity: 0; /* M·ªù d·∫ßn tr∆∞·ªõc khi reset */
            }
        }
        
        /* V√πng ch·ª©a c√°c d√≤ng ch·ªØ ng·∫´u nhi√™n */
        #random-texts-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 4; /* N·∫±m d∆∞·ªõi c√°c hi·ªáu ·ª©ng kh√°c nh∆∞ng tr√™n n·ªÅn */
            overflow: hidden;
        }

        .random-text-instance {
            position: absolute;
            font-family: 'Dancing Script', cursive;
            color: rgba(255, 255, 255, 0.3); /* M√†u tr·∫Øng m·ªù */
            font-size: 1.2em; /* TƒÉng k√≠ch th∆∞·ªõc ch·ªØ nh·ªè */
            white-space: nowrap;
            animation: fade-random-text linear infinite; /* Animation m·ªù d·∫ßn v√†o/ra */
        }

        @keyframes fade-random-text {
            0% {
                opacity: 0; /* B·∫Øt ƒë·∫ßu m·ªù */
            }
            20% {
                opacity: 0.3; /* Hi·ªán l√™n m·ªôt ph·∫ßn nh·∫π nh√†ng */
            }
            80% {
                opacity: 0.3; /* Gi·ªØ nguy√™n ƒë·ªô m·ªù */
            }
            100% {
                opacity: 0; /* M·ªù ho√†n to√†n */
            }
        }


        /* V√πng ch·ª©a phong b√¨ */
        .envelope-container {
            position: relative;
            width: 400px; /* Chi·ªÅu r·ªông phong b√¨ */
            height: 250px; /* Chi·ªÅu cao phong b√¨ */
            perspective: 1000px; /* Cho hi·ªáu ·ª©ng 3D */
            cursor: pointer;
            transition: transform 0.8s ease-in-out;
            transform-style: preserve-3d;
            z-index: 10; /* ƒê·∫£m b·∫£o phong b√¨ n·∫±m tr√™n c√°c hi·ªáu ·ª©ng n·ªÅn */
        }

        /* L·ªõp m·ªü phong b√¨ */
        .envelope-container.open {
            transform: translateY(-50px); /* N√¢ng phong b√¨ l√™n m·ªôt ch√∫t khi m·ªü */
        }

        /* C√°c ph·∫ßn c·ªßa phong b√¨ v√† l√° th∆∞ */
        .envelope-front, .envelope-back, .envelope-flap, .letter-content {
            position: absolute;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.8s ease-in-out;
            transform-origin: top; /* ƒêi·ªÉm xoay c·ªßa n·∫Øp phong b√¨ */
        }

        .envelope-front {
            width: 100%;
            height: 100%;
            background-color: #FFC0CB; /* M√†u h·ªìng ph·∫•n */
            z-index: 2;
        }

        .envelope-back {
            width: 100%;
            height: 100%;
            background-color: #FFC0CB; /* M√†u h·ªìng ph·∫•n */
            z-index: 1;
        }

        .envelope-flap {
            width: 100%;
            height: 125px; /* M·ªôt n·ª≠a chi·ªÅu cao phong b√¨ */
            background-color: #FFB6C1; /* M√†u h·ªìng ƒë·∫≠m h∆°n m·ªôt ch√∫t cho n·∫Øp */
            top: 0;
            left: 0;
            z-index: 3;
            transform-origin: top;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            clip-path: polygon(0 0, 100% 0, 50% 100%); /* T·∫°o h√¨nh tam gi√°c cho n·∫Øp */
            transform: rotateX(0deg); /* Tr·∫°ng th√°i ban ƒë·∫ßu: ƒë√≥ng */
        }

        /* Hi·ªáu ·ª©ng n·∫Øp phong b√¨ m·ªü ra */
        .envelope-container.open .envelope-flap {
            transform: rotateX(-180deg); /* M·ªü: n·∫Øp xoay ng∆∞·ª£c */
            z-index: 0; /* Di chuy·ªÉn n·∫Øp ra ph√≠a sau khi m·ªü */
        }

        .letter-content {
            position: absolute;
            width: 90%;
            height: 90%;
            background-color: #FFFFFF; /* M√†u tr·∫Øng cho l√° th∆∞ */
            top: 5%;
            left: 5%;
            padding: 15px; /* Gi·∫£m padding ƒë·ªÉ c√≥ th√™m kh√¥ng gian */
            box-sizing: border-box;
            opacity: 0; /* Ban ƒë·∫ßu ·∫©n */
            transform: translateY(50px) scale(0.9); /* B·∫Øt ƒë·∫ßu h∆°i th·∫•p v√† nh·ªè h∆°n */
            z-index: 1; /* N·∫±m sau n·∫Øp khi ƒë√≥ng */
            color: #333;
            text-align: left; /* CƒÉn tr√°i n·ªôi dung t·ªïng th·ªÉ */
            line-height: 1.5; /* ƒêi·ªÅu ch·ªânh line-height */
            font-size: 0.85em; /* Gi·∫£m c·ª° ch·ªØ */
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex; /* S·ª≠ d·ª•ng flexbox */
            flex-direction: column;
            /* B·ªè justify-content v√† align-items ƒë·ªÉ n·ªôi dung b·∫Øt ƒë·∫ßu t·ª´ tr√™n c√πng */
            overflow-y: auto; /* Cho ph√©p cu·ªôn n·∫øu n·ªôi dung d√†i */
        }

        /* L√° th∆∞ xu·∫•t hi·ªán khi phong b√¨ m·ªü */
        .envelope-container.open .letter-content {
            opacity: 1; /* Hi·ªÉn th·ªã ho√†n to√†n */
            transform: translateY(0) scale(1); /* Di chuy·ªÉn v·ªÅ v·ªã tr√≠ v√† k√≠ch th∆∞·ªõc ban ƒë·∫ßu */
            z-index: 4; /* N·∫±m tr√™n c√πng khi m·ªü */
            transition-delay: 0.4s; /* Tr√¨ ho√£n xu·∫•t hi·ªán cho ƒë·∫øn khi n·∫Øp m·ªü */
        }

        /* Ki·ªÉu ch·ªØ cho n·ªôi dung l√° th∆∞ */
        .message-content-paragraph {
            margin-bottom: 0.75rem; /* Gi·∫£m kho·∫£ng c√°ch gi·ªØa c√°c ƒëo·∫°n */
            text-align: center; /* V·∫´n cƒÉn gi·ªØa ƒëo·∫°n vƒÉn */
        }
        .signature {
            text-align: right;
            font-size: 1em; /* Gi·∫£m c·ª° ch·ªØ ch·ªØ k√Ω */
            font-style: italic;
            color: #4B5563; /* M√†u x√°m ƒë·∫≠m */
            margin-top: 0.5rem;
            width: 100%; /* ƒê·∫£m b·∫£o ch·ªØ k√Ω n·∫±m ƒë√∫ng v·ªã tr√≠ */
        }

        /* Hi·ªáu ·ª©ng ph√°o hoa khi m·ªü */
        .confetti-piece {
            position: fixed;
            font-size: 1.5em;
            opacity: 0;
            pointer-events: none;
            z-index: 25;
            --final-x: 0px;
            --final-y: 0px;
        }

        @keyframes shootConfetti {
            0% {
                transform: translate(0, 0);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--final-x), var(--final-y));
                opacity: 0;
            }
        }

        /* ƒêi·ªÅu ch·ªânh cho thi·∫øt b·ªã di ƒë·ªông */
        @media (max-width: 600px) {
            #neon-text {
                font-size: 1.8em; /* Gi·∫£m c·ª° ch·ªØ neon tr√™n di ƒë·ªông */
            }
            .envelope-container {
                width: 90%; /* Chi·ªÅu r·ªông phong b√¨ tr√™n di ƒë·ªông */
                height: 180px; /* Chi·ªÅu cao phong b√¨ tr√™n di ƒë·ªông */
            }
            .letter-content {
                font-size: 0.75em; /* Gi·∫£m c·ª° ch·ªØ tr√™n di ƒë·ªông */
                padding: 10px; /* Gi·∫£m padding tr√™n di ƒë·ªông */
            }
            .confetti-piece {
                font-size: 1.2em; /* Ph√°o hoa nh·ªè h∆°n tr√™n di ƒë·ªông */
            }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <!-- Container for falling dots (now cakes and ribbons, gifts, and hearts) -->
    <div id="falling-dots-container"></div>

    <!-- Container for random background texts -->
    <div id="random-texts-container"></div>

    <!-- D√≤ng ch·ªØ HAPPY BIRTHDAY HONG HAE IN v·ªõi hi·ªáu ·ª©ng neon -->
    <div id="neon-text">HAPPY BIRTHDAY HONG HAE IN</div>

    <div id="envelope" class="envelope-container" onclick="openEnvelope()">
        <div class="envelope-back"></div>
        <div class="letter-content p-6 rounded-lg shadow-inner">
            <!-- N·ªôi dung b·ª©c th∆∞ s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn b·∫±ng JavaScript -->
        </div>
        <div class="envelope-front"></div>
        <div class="envelope-flap"></div>
    </div>

    <script>
        // Global array to store active random text elements and their positions
        const activeRandomTexts = [];

        // Helper function to check for collision between two rectangles
        function isColliding(rect1, rect2) {
            return rect1.left < rect2.right &&
                   rect1.right > rect2.left &&
                   rect1.top < rect2.bottom &&
                   rect1.bottom > rect2.top;
        }

        // Function to generate a non-overlapping position
        function getNonOverlappingPosition(elementWidth, elementHeight, existingRects, maxAttempts = 50) {
            for (let i = 0; i < maxAttempts; i++) {
                const newLeft = Math.random() * (window.innerWidth - elementWidth);
                const newTop = Math.random() * (window.innerHeight - elementHeight);
                const newRect = {
                    left: newLeft,
                    top: newTop,
                    right: newLeft + elementWidth,
                    bottom: newTop + elementHeight
                };

                let collision = false;
                for (const existingRect of existingRects) {
                    if (isColliding(newRect, existingRect)) {
                        collision = true;
                        break;
                    }
                }

                if (!collision) {
                    return { left: newLeft, top: newTop, rect: newRect };
                }
            }
            // If no non-overlapping position found after maxAttempts, return a random one anyway
            const fallbackLeft = Math.random() * (window.innerWidth - elementWidth);
            const fallbackTop = Math.random() * (window.innerHeight - elementHeight);
            return {
                left: fallbackLeft,
                top: fallbackTop,
                rect: {
                    left: fallbackLeft,
                    top: fallbackTop,
                    right: fallbackLeft + elementWidth,
                    bottom: fallbackTop + elementHeight
                }
            };
        }

        // L·∫•y c√°c ph·∫ßn t·ª≠ c·∫ßn thi·∫øt t·ª´ DOM
        const envelope = document.getElementById('envelope');
        const letterContent = document.querySelector('.letter-content');
        const fallingDotsContainer = document.getElementById('falling-dots-container');
        const neonText = document.getElementById('neon-text');
        const randomTextsContainer = document.getElementById('random-texts-container');

        // --- B·∫ÆT ƒê·∫¶U PH·∫¶N T√ôY CH·ªàNH L·ªúI NH·∫ÆN ---
        // B·∫°n c√≥ th·ªÉ thay ƒë·ªïi t√™n ng∆∞·ªùi nh·∫≠n v√† ng∆∞·ªùi g·ª≠i ·ªü ƒë√¢y
        const recipient = "Ch·ªã Hong Hae In"; // V√≠ d·ª•: "Ng·ªçc Anh"
        const sender = "Park Bo Gum"; // ƒê√£ s·ª≠a th√†nh "Park Bo Gum"

        // N·ªôi dung b·ª©c th∆∞ c·ªßa b·∫°n. B·∫°n c√≥ th·ªÉ vi·∫øt b·∫•t c·ª© ƒëi·ªÅu g√¨ ·ªü ƒë√¢y!
        // S·ª≠ d·ª•ng <p> cho c√°c ƒëo·∫°n vƒÉn b·∫£n ƒë·ªÉ ƒë·ªãnh d·∫°ng t·ªët h∆°n.
        const customMessage = `
            <p class="message-content-paragraph">K√≠nh g·ª≠i ${recipient},</p>
            <p class="message-content-paragraph">
                Em mu·ªën g·ª≠i ƒë·∫øn ch·ªã nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t.
                Mong r·∫±ng ng√†y n√†o c·ªßa ch·ªã c≈©ng tr√†n ng·∫≠p ni·ªÅm vui, ti·∫øng c∆∞·ªùi v√† nh·ªØng ƒëi·ªÅu b·∫•t ng·ªù th√∫ v·ªã.
            </p>
            <p class="message-content-paragraph">
                Tuy b·ª©c th∆∞ n√†y ƒë·∫øn mu·ªôn nh∆∞ng m√† em mong ch·ªã vui v·∫ª nh∆∞ ng√†y l√∫c ƒë√≥n tu·ªïi m·ªõi ·∫°!
            </p>
            <p class="signature">Th√¢n m·∫øn,<br>${sender}</p>
        `;
        // --- K·∫æT TH√öC PH·∫¶N T√ôY CH·ªàNH L·ªúI NH·∫ÆN ---

        // G√°n n·ªôi dung t√πy ch·ªânh v√†o l√° th∆∞
        letterContent.innerHTML = customMessage;

        // H√†m m·ªü phong b√¨
        function openEnvelope() {
            const wasOpen = envelope.classList.contains('open');
            envelope.classList.toggle('open'); // Th√™m ho·∫∑c x√≥a class 'open' ƒë·ªÉ k√≠ch ho·∫°t hi·ªáu ·ª©ng CSS

            if (!wasOpen) { // N·∫øu phong b√¨ ƒëang m·ªü
                createConfettiEffect();
                neonText.classList.add('fade-out-text'); // Th√™m class ƒë·ªÉ l√†m m·ªù ch·ªØ neon
            } else { // N·∫øu phong b√¨ ƒëang ƒë√≥ng
                neonText.classList.remove('fade-out-text'); // X√≥a class ƒë·ªÉ ch·ªØ neon hi·ªán l·∫°i
            }
        }

        // H√†m t·∫°o hi·ªáu ·ª©ng ph√°o hoa
        function createConfettiEffect() {
            const letterContentRect = letterContent.getBoundingClientRect(); // L·∫•y v·ªã tr√≠ v√† k√≠ch th∆∞·ªõc c·ªßa l√° th∆∞
            if (!letterContentRect) return; // ƒê·∫£m b·∫£o l√° th∆∞ t·ªìn t·∫°i

            const confettiEmojis = ['üéâ', 'üéä', '‚ú®', 'üéà', '‚ù§Ô∏è', 'üåü', 'üíñ', 'üéÅ']; // C√°c bi·ªÉu t∆∞·ª£ng ph√°o hoa
            const numberOfConfetti = 50; // S·ªë l∆∞·ª£ng m·∫£nh ph√°o hoa

            for (let i = 0; i < numberOfConfetti; i++) {
                const confetti = document.createElement('span');
                confetti.className = 'confetti-piece';
                confetti.innerText = confettiEmojis[Math.floor(Math.random() * confettiEmojis.length)];

                // Quy·∫øt ƒë·ªãnh ng·∫´u nhi√™n b·∫Øt ƒë·∫ßu t·ª´ b√™n tr√°i ho·∫∑c b√™n ph·∫£i c·ªßa l√° th∆∞
                const startFromLeft = Math.random() > 0.5;
                let initialLeftPx; // V·ªã tr√≠ tuy·ªát ƒë·ªëi theo pixel
                let finalTranslateX; // D·ªãch chuy·ªÉn t∆∞∆°ng ƒë·ªëi cho animation

                if (startFromLeft) {
                    initialLeftPx = letterContentRect.left + (Math.random() * 30); // B·∫Øt ƒë·∫ßu h∆°i b√™n trong m√©p tr√°i
                    finalTranslateX = (Math.random() * letterContentRect.width * 0.4) + 20; // Di chuy·ªÉn sang ph·∫£i, v√†o trong l√° th∆∞
                } else {
                    initialLeftPx = letterContentRect.right - (Math.random() * 30); // B·∫Øt ƒë·∫ßu h∆°i b√™n trong m√©p ph·∫£i
                    finalTranslateX = -(Math.random() * letterContentRect.width * 0.4) - 20; // Di chuy·ªÉn sang tr√°i, v√†o trong l√° th∆∞
                }

                // B·∫Øt ƒë·∫ßu ph√°o hoa ·ªü b·∫•t k·ª≥ ƒë√¢u theo chi·ªÅu d·ªçc trong chi·ªÅu cao c·ªßa l√° th∆∞
                const initialTopPx = letterContentRect.top + (Math.random() * letterContentRect.height);
                // D·ªãch chuy·ªÉn d·ªçc ng·∫´u nhi√™n (l√™n ho·∫∑c xu·ªëng) so v·ªõi ƒëi·ªÉm b·∫Øt ƒë·∫ßu
                const finalTranslateY = (Math.random() - 0.5) * letterContentRect.height * 0.6;

                confetti.style.left = `${initialLeftPx}px`;
                confetti.style.top = `${initialTopPx}px`;
                confetti.style.fontSize = `${Math.random() * 1 + 1}em`; // K√≠ch th∆∞·ªõc t·ª´ 1em ƒë·∫øn 2em
                confetti.style.opacity = '0'; // Ban ƒë·∫ßu ·∫©n, s·∫Ω hi·ªán d·∫ßn v·ªõi animation

                const animationDuration = Math.random() * 1.5 + 1.5; // Th·ªùi l∆∞·ª£ng animation t·ª´ 1.5s ƒë·∫øn 3s
                const animationDelay = Math.random() * 0.2; // ƒê·ªô tr·ªÖ nh·ªè ƒë·ªÉ t·∫°o hi·ªáu ·ª©ng x·∫øp l·ªõp

                // ƒê·∫∑t bi·∫øn CSS cho animation keyframe
                confetti.style.setProperty('--final-x', `${finalTranslateX}px`);
                confetti.style.setProperty('--final-y', `${finalTranslateY}px`);
                confetti.style.animation = `shootConfetti ${animationDuration}s ease-out ${animationDelay}s forwards`;

                document.body.appendChild(confetti);

                // X√≥a m·∫£nh ph√°o hoa sau khi animation k·∫øt th√∫c ƒë·ªÉ d·ªçn d·∫πp DOM
                setTimeout(() => {
                    confetti.remove();
                }, (animationDuration + animationDelay) * 1000);
            }
        }

        // H√†m t·∫°o c√°c bi·ªÉu t∆∞·ª£ng r∆°i (b√°nh kem, n∆° h·ªìng, h·ªôp qu√†, b√≥ng bay)
        function createFallingDots() {
            const fallingEmojis = ['üéÇ', 'üéÄ', 'üéÅ', 'üéà']; // Bi·ªÉu t∆∞·ª£ng b√°nh kem, n∆° h·ªìng, h·ªôp qu√†, b√≥ng bay
            const numberOfEmojis = 100; // S·ªë l∆∞·ª£ng bi·ªÉu t∆∞·ª£ng r∆°i

            for (let i = 0; i < numberOfEmojis; i++) {
                const emoji = document.createElement('span'); // S·ª≠ d·ª•ng span cho emoji
                emoji.className = 'falling-dot'; // Gi·ªØ nguy√™n class ƒë·ªÉ √°p d·ª•ng CSS animation
                emoji.innerText = fallingEmojis[Math.floor(Math.random() * fallingEmojis.length)];

                const size = Math.random() * 1.5 + 1; // K√≠ch th∆∞·ªõc emoji t·ª´ 1em ƒë·∫øn 2.5em
                emoji.style.fontSize = `${size}em`;
                emoji.style.left = `${Math.random() * 100}vw`; // V·ªã tr√≠ ngang ng·∫´u nhi√™n
                emoji.style.animationDuration = `${Math.random() * 10 + 5}s`; // Th·ªùi l∆∞·ª£ng r∆°i t·ª´ 5s ƒë·∫øn 15s
                emoji.style.animationDelay = `${Math.random() * 5}s`; // ƒê·ªô tr·ªÖ ng·∫´u nhi√™n ƒë·ªÉ t·∫°o hi·ªáu ·ª©ng kh√¥ng ƒë·ªìng b·ªô

                fallingDotsContainer.appendChild(emoji);
            }
        }

        // H√†m t·∫°o c√°c d√≤ng ch·ªØ ng·∫´u nhi√™n
        function createRandomTexts() {
            const textContent = "HAPPY BIRTHDAY HONG HAE IN";
            const numberOfTexts = 8; // Gi·∫£m s·ªë l∆∞·ª£ng d√≤ng ch·ªØ ng·∫´u nhi√™n ƒë·ªÉ gi·∫£m t·∫ßn su·∫•t

            for (let i = 0; i < numberOfTexts; i++) {
                const randomText = document.createElement('span');
                randomText.className = 'random-text-instance';
                randomText.innerText = textContent;

                const size = Math.random() * 0.8 + 0.8; // K√≠ch th∆∞·ªõc t·ª´ 0.8em ƒë·∫øn 1.6em (tƒÉng k√≠ch c·ª°)
                randomText.style.fontSize = `${size}em`;
                randomTextsContainer.appendChild(randomText); // Append first to get dimensions

                const elementWidth = randomText.offsetWidth;
                const elementHeight = randomText.offsetHeight;

                // Get a non-overlapping position
                const { left, top, rect } = getNonOverlappingPosition(elementWidth, elementHeight, activeRandomTexts.map(item => item.rect));

                randomText.style.left = `${left}px`;
                randomText.style.top = `${top}px`;
                randomText.style.animationDuration = `${Math.random() * 12 + 8}s`; // Th·ªùi l∆∞·ª£ng animation t·ª´ 8s ƒë·∫øn 20s (d√†i h∆°n)
                randomText.style.animationDelay = `${Math.random() * 8}s`; // ƒê·ªô tr·ªÖ ng·∫´u nhi√™n (d√†i h∆°n)

                // Store the element and its rectangle
                activeRandomTexts.push({ element: randomText, rect: rect });

                // Th√™m event listener ƒë·ªÉ c·∫≠p nh·∫≠t v·ªã tr√≠ khi animation l·∫∑p l·∫°i
                randomText.addEventListener('animationiteration', () => {
                    // Remove old rectangle from tracking
                    const oldIndex = activeRandomTexts.findIndex(item => item.element === randomText);
                    if (oldIndex > -1) {
                        activeRandomTexts.splice(oldIndex, 1);
                    }

                    // Get new non-overlapping position
                    const { left: newLeft, top: newTop, rect: newRect } = getNonOverlappingPosition(elementWidth, elementHeight, activeRandomTexts.map(item => item.rect));

                    randomText.style.left = `${newLeft}px`;
                    randomText.style.top = `${newTop}px`;
                    randomText.style.animationDuration = `${Math.random() * 12 + 8}s`;
                    randomText.style.animationDelay = `${Math.random() * 8}s`;

                    // Add new rectangle to tracking
                    activeRandomTexts.push({ element: randomText, rect: newRect });
                });
            }
        }


        // G·ªçi h√†m t·∫°o hi·ªáu ·ª©ng khi c·ª≠a s·ªï t·∫£i xong
        window.onload = function() {
            createFallingDots(); // T·∫°o c√°c bi·ªÉu t∆∞·ª£ng r∆°i (b√°nh kem, n∆° h·ªìng, h·ªôp qu√†, b√≥ng bay)
            createRandomTexts(); // T·∫°o c√°c d√≤ng ch·ªØ ng·∫´u nhi√™n
        };
    </script>
</body>
</html>